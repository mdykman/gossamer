 = Global Variables =

These variables are visible to controllers in all scripting engines.
 *	vm      - the view manager
 *	writer  - used to emit raw responses
 *	session - the user session
 *	jdbc    - the JDBC connection manager
 *	hsf     - Hibernate session factory manager
 *	uploads - the upload manager
 *	installBase - a string showing the installation base for this instance of gossamer 
 *	site    - interface to user.properties
 *	requestInfo - simplified interface to information about the current HTTP request
 *	reqp    - the pathinfo, minus the leading slash (deprecated; use requestInfo.pathInfo which includes the leading slash)
 *	factory - a proxy for the spring bean factory
 *	request - the HttpServletRequest object
 *	response - the HttpServletResponse object
 *	rp      - the request processor; used to invoke external controllers
 *	id      - the runtime identifier; (usage is fuzzy ATM)

 == vm - View Manager ==

{{{
  vm.setView(view)
}}}
Selects the document to be used to format the current page. In a simple view layout, the directory GOSSAMER_HOME/xsl is searched.
{{{
groovy:  vm.view = 'index.html'
groovy:  vm.setvView('tour.html')

ruby:    $vm.setView('examples/ruby.html')

}}}
The above example would find these files respectively.

  /opt/gossamer/xsl/index.html

  /opt/gossamer/xsl/tour.html

  /opt/gossamer/xsl/examples/ruby.html
 ----
{{{
  vm.setFormat(format)
}}}
  Overrides the 'preferred_format' for the current request only.  This only used in conjunction with the extended view layout.
 ----
{{{
  vm.setStyle(style) 
  Overrides the output style for the lifetime of the current session.  This only used in conjunction with the extended view layout.
}}}

See [View] for details on both the simple and the extended layout and how the view document is used.